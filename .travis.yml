dist: xenial

language: python

python:
  - "3.7"

services:
  - mysql
  - docker

cache: pip

install:
  - pip install -r requirements.txt

script:
  - echo "skipping tests"

deploy:
  - provider: script
    script: bash ./docker-deploy.sh master
    wait_until_deployed: true
    on:
      branch: master

  - provider: script
    script: bash ./docker-deploy.sh api
    on:
      branch: api

  - provider: script
    script: bash ./docker-deploy.sh develop
    on:
      branch: develop
      
notifications:
  webhooks:
    urls:
      - secure: wiC+5HfKrETBNvrBSbokAlUFh+SxkxsyFaH7BuHMwqdMbr/w41hEmdyMIPsf+SNVZpbu9KYl/tcsu1mQ4dZmvT/i+FOo89X0fylBnLSzjrXL6VBhWR99t/zCe5I6B9hy8sw736M9hWDTAHZJaxNy9WmS3t3zqHJSHU8kIzsSB98adDkEHfYG+wmc4BQ8Opopsbel6ZbwhZ7GXAB0FsNnVr2fzjdrMQnyiLUUYOi46Yg656m0mwVKFtfOzeGNhq7TqGHlQtps2+ZjA0MRElImIqUTjDn/dOrkWv2baJcvb28nFRVsxlUb2OtNF05fZt0mdfTS0nFHhlg5YByewH/txC37mLhT8EPbN/nIZvxtkQRit4DvQ2xP3h4nwCPEAkyJPof7MrOBDMhDnXP1h1HO4crviVT6vqRZoRIRWOYwr6xNHBi42OnAgvngrCE0TFVai9H5Omh1MQ6DhSdo0nwkPHv/uealRMOWCxM84LtGkO/FFeCHTKBv4Zy0+7PXNDo40DkRkl+jlkOo2DypkxVsOF9rrw7K6mD+LX0i+F/MmF5oPTv9WyZu9knH3mLW8v4Khv86qzhd7zkckQeTn9FHR4vW9Rvt0Da8Sl01+Jw0woxd9nlx2pC52/zdD/A2jHdg5mNvCUKPVXUuWcXKt44sbkrZT6cbMgSWyDO1h17jFhc=
    on_failure: never
    on_cancel: never
    on_error: never
