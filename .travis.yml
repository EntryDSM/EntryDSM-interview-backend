dist: xenial

language: python

python:
  - "3.7"

services:
  - mysql
  - docker

cache: pip

install:
  - pip install -r requirements.txt

script:
  - echo "skipping tests"

deploy:
  - provider: script
    script: bash ./docker-deploy.sh master
    wait_until_deployed: true
    on:
      branch: master

  - provider: script
    script: bash ./docker-deploy.sh api
    on:
      branch: api

  - provider: script
    script: bash ./docker-deploy.sh develop
    on:
      branch: develop
      
notifications:
  webhooks:
    urls:
      - secure: i7bT/AA51DqV5UgPYopUdqDE3StqH9RHf55mxL14pv6kgxYo0RpwKDfRsK3T7G9niSa6EqCCjTsTslSN/mk4YvPHwSv3GlapCxiutdeV0pRP7zNPpcr5edklH+xNWjQF+9TPBWe4aCV8Pl9brEI4VAxeAEHE/W4j+kfBJBNjR98IvcrFzyAPm/qGZzxxQ2UV/BTT6KbgoC+3T39iCfP5nGmUUcO1VwinQeNWUNjyaPMRzRUDvESn5BbmXRDR+VlKjqB0mqdoicK9WezcRebJA3C8M/j+j91f3IMoeHi9ylmpydNNQUSXMB6bVjPwVh70j1BkE4biUzy4YRVZ3hu20hZ0/a7M0YUe8gB9W4k35YbfjstoWYJlgv77JqsXR06Sb+psyQBmFvNnxE1zXTj1rdooODHqmkl62HURzTkdrvySHidjNwNioxEd2n6kMtX4rro1ZJSYCTaHTwlA/87U663RRq3WvpTXhOsJOSf6hEpEtbCBsqIzv6D3fR5d2X5PJqTa00szi7CCzA6fZCXUMnHbaQzy1oMxf/oZKGcrRdsYBIikBfGziAbMbb/YXS3eOTjV2OATgr9BiV3OKLM1J228agk2fbnWFbC0YHHogRGSKMw1eb4UAGNoV5SWtNDMQTNotcyV6YgdXkzKQE44k10RObxMZXXHE4YiN5ncqH0=
    on_failure: never
    on_cancel: never
    on_error: never
